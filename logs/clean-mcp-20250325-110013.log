Starting MCP server at Tue Mar 25 11:00:13 +07 2025
Loaded environment from .env
Executing MCP server with stdio transport
2025/03/25 11:00:13 Loaded configuration from .env file
2025/03/25 11:00:13 Warning: Failed to initialize database connections: failed to load database config: unsupported database type for connection cashflow_sqlite: sqlite
2025/03/25 11:00:13 Starting server in stdio mode
2025/03/25 11:00:13.661 INFO: Created new STDIO session 321185f4-4505-4429-bca2-fe0b32293b58
2025/03/25 11:00:13.661 INFO: STDIO transport started, waiting for requests on stdin...
2025/03/25 11:00:13.661 DEBUG: Received request: {"jsonrpc":"2.0","id":0,"method":"initialize","params":{"capabilities":{"logging":false,"prompts":false,"resources":true,"roots":{"listChanged":false},"tools":true},"clientInfo":{"name":"cursor-vscode","version":"1.0.0"},"protocolVersion":"2024-11-05"}}
2025/03/25 11:00:13.661 INFO: Processing request: method=initialize, id=0
2025/03/25 11:00:13.662 DEBUG: Handling initialize request
2025/03/25 11:00:13.662 INFO: Client connected: cursor-vscode v1.0.0
2025/03/25 11:00:13.662 DEBUG: Client capabilities: {"logging":false,"prompts":false,"resources":true,"roots":{"listChanged":false},"tools":true}
2025/03/25 11:00:13.662 INFO: Available tools: dbSchema, dbQuery, dbExecute, dbTransaction, dbPerformanceAnalyzer, showConnectedDatabases
2025/03/25 11:00:13.662 INFO: Client indicates support for tools
2025/03/25 11:00:13.662 DEBUG: ==== BEGIN initialize [ID:0] [Session: 321185f4-4505-4429-bca2-fe0b32293b58] ====
2025/03/25 11:00:13.662 DEBUG: REQUEST:
{
  "id": 0,
  "jsonrpc": "2.0",
  "method": "initialize",
  "params": {
    "capabilities": {
      "logging": false,
      "prompts": false,
      "resources": true,
      "roots": {
        "listChanged": false
      },
      "tools": true
    },
    "clientInfo": {
      "name": "cursor-vscode",
      "version": "1.0.0"
    },
    "protocolVersion": "2024-11-05"
  }
}
2025/03/25 11:00:13.662 DEBUG: RESPONSE:
{
  "capabilities": {
    "logging": {},
    "prompts": {
      "listChanged": true
    },
    "resources": {
      "listChanged": true,
      "subscribe": true
    },
    "tools": {
      "available": [
        {
          "description": "Auto-discover database structure and relationships",
          "inputSchema": {
            "properties": {
              "database": {
                "description": "Database name to explore (optional, leave empty for all databases)",
                "type": "string"
              },
              "table": {
                "description": "Table name to explore (optional, leave empty for all tables)",
                "type": "string"
              }
            },
            "required": null,
            "type": "object"
          },
          "name": "dbSchema"
        },
        {
          "description": "Execute a database query that returns results",
          "inputSchema": {
            "properties": {
              "database": {
                "description": "Database ID to query (optional if only one database is configured)",
                "type": "string"
              },
              "params": {
                "description": "Parameters for the query (for prepared statements)",
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              "query": {
                "description": "SQL query to execute",
                "type": "string"
              },
              "timeout": {
                "description": "Query timeout in milliseconds (default: 5000)",
                "type": "integer"
              }
            },
            "required": [
              "query"
            ],
            "type": "object"
          },
          "name": "dbQuery"
        },
        {
          "description": "Execute a database statement that doesn't return results (INSERT, UPDATE, DELETE, etc.)",
          "inputSchema": {
            "properties": {
              "database": {
                "description": "Database ID to use (optional if only one database is configured)",
                "type": "string"
              },
              "params": {
                "description": "Parameters for the statement (for prepared statements)",
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              "statement": {
                "description": "SQL statement to execute",
                "type": "string"
              }
            },
            "required": [
              "statement"
            ],
            "type": "object"
          },
          "name": "dbExecute"
        },
        {
          "description": "Manage database transactions (begin, commit, rollback, execute within transaction)",
          "inputSchema": {
            "properties": {
              "action": {
                "description": "Transaction action: begin, commit, rollback, or execute",
                "enum": [
                  "begin",
                  "commit",
                  "rollback",
                  "execute"
                ],
                "type": "string"
              },
              "database": {
                "description": "Database ID to use (optional if only one database is configured)",
                "type": "string"
              },
              "params": {
                "description": "Parameters for the statement (for prepared statements, used with execute action)",
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              "statement": {
                "description": "SQL statement to execute (required for execute action)",
                "type": "string"
              },
              "transactionId": {
                "description": "Transaction ID (required for commit, rollback, and execute actions)",
                "type": "string"
              }
            },
            "required": [
              "action"
            ],
            "type": "object"
          },
          "name": "dbTransaction"
        },
        {
          "description": "Identify slow queries and optimization opportunities",
          "inputSchema": {
            "properties": {
              "database": {
                "description": "Database ID to use (optional if only one database is configured)",
                "type": "string"
              },
              "query": {
                "description": "SQL query to analyze",
                "type": "string"
              }
            },
            "required": [
              "query"
            ],
            "type": "object"
          },
          "name": "dbPerformanceAnalyzer"
        },
        {
          "description": "Shows information about all connected databases",
          "inputSchema": {
            "properties": {},
            "required": null,
            "type": "object"
          },
          "name": "showConnectedDatabases"
        }
      ]
    }
  },
  "protocolVersion": "2024-11-05",
  "serverInfo": {
    "name": "MCP Server",
    "version": "1.0.0"
  }
}
2025/03/25 11:00:13.662 DEBUG: ==== END initialize [ID:0] ====
2025/03/25 11:00:13.662 DEBUG: Sending response: {"id":0,"jsonrpc":"2.0","result":{"capabilities":{"logging":{},"prompts":{"listChanged":true},"resources":{"listChanged":true,"subscribe":true},"tools":{"available":[{"description":"Auto-discover database structure and relationships","inputSchema":{"properties":{"database":{"description":"Database name to explore (optional, leave empty for all databases)","type":"string"},"table":{"description":"Table name to explore (optional, leave empty for all tables)","type":"string"}},"required":null,"type":"object"},"name":"dbSchema"},{"description":"Execute a database query that returns results","inputSchema":{"properties":{"database":{"description":"Database ID to query (optional if only one database is configured)","type":"string"},"params":{"description":"Parameters for the query (for prepared statements)","items":{"type":"string"},"type":"array"},"query":{"description":"SQL query to execute","type":"string"},"timeout":{"description":"Query timeout in milliseconds (default: 5000)","type":"integer"}},"required":["query"],"type":"object"},"name":"dbQuery"},{"description":"Execute a database statement that doesn't return results (INSERT, UPDATE, DELETE, etc.)","inputSchema":{"properties":{"database":{"description":"Database ID to use (optional if only one database is configured)","type":"string"},"params":{"description":"Parameters for the statement (for prepared statements)","items":{"type":"string"},"type":"array"},"statement":{"description":"SQL statement to execute","type":"string"}},"required":["statement"],"type":"object"},"name":"dbExecute"},{"description":"Manage database transactions (begin, commit, rollback, execute within transaction)","inputSchema":{"properties":{"action":{"description":"Transaction action: begin, commit, rollback, or execute","enum":["begin","commit","rollback","execute"],"type":"string"},"database":{"description":"Database ID to use (optional if only one database is configured)","type":"string"},"params":{"description":"Parameters for the statement (for prepared statements, used with execute action)","items":{"type":"string"},"type":"array"},"statement":{"description":"SQL statement to execute (required for execute action)","type":"string"},"transactionId":{"description":"Transaction ID (required for commit, rollback, and execute actions)","type":"string"}},"required":["action"],"type":"object"},"name":"dbTransaction"},{"description":"Identify slow queries and optimization opportunities","inputSchema":{"properties":{"database":{"description":"Database ID to use (optional if only one database is configured)","type":"string"},"query":{"description":"SQL query to analyze","type":"string"}},"required":["query"],"type":"object"},"name":"dbPerformanceAnalyzer"},{"description":"Shows information about all connected databases","inputSchema":{"properties":{},"required":null,"type":"object"},"name":"showConnectedDatabases"}]}},"protocolVersion":"2024-11-05","serverInfo":{"name":"MCP Server","version":"1.0.0"}}}
2025/03/25 11:00:13.662 ERROR: Failed to send response: session not connected
Starting MCP server at Tue Mar 25 11:00:13 +07 2025
Loaded environment from .env
Executing MCP server with stdio transport
2025/03/25 11:00:13 Loaded configuration from .env file
2025/03/25 11:00:13 Warning: Failed to initialize database connections: failed to load database config: unsupported database type for connection cashflow_sqlite: sqlite
2025/03/25 11:00:13 Starting server in stdio mode
2025/03/25 11:00:13.827 INFO: Created new STDIO session 97038def-6c5b-4da7-b840-df760bfbdd86
2025/03/25 11:00:13.827 INFO: STDIO transport started, waiting for requests on stdin...
2025/03/25 11:00:13.827 DEBUG: Received request: {"jsonrpc":"2.0","id":0,"method":"initialize","params":{"capabilities":{"logging":false,"prompts":false,"resources":true,"roots":{"listChanged":false},"tools":true},"clientInfo":{"name":"cursor-vscode","version":"1.0.0"},"protocolVersion":"2024-11-05"}}
2025/03/25 11:00:13.827 INFO: Processing request: method=initialize, id=0
2025/03/25 11:00:13.827 DEBUG: Handling initialize request
2025/03/25 11:00:13.827 INFO: Client connected: cursor-vscode v1.0.0
2025/03/25 11:00:13.827 DEBUG: Client capabilities: {"logging":false,"prompts":false,"resources":true,"roots":{"listChanged":false},"tools":true}
2025/03/25 11:00:13.827 INFO: Available tools: showConnectedDatabases, dbSchema, dbQuery, dbExecute, dbTransaction, dbPerformanceAnalyzer
2025/03/25 11:00:13.827 INFO: Client indicates support for tools
2025/03/25 11:00:13.828 DEBUG: ==== BEGIN initialize [ID:0] [Session: 97038def-6c5b-4da7-b840-df760bfbdd86] ====
2025/03/25 11:00:13.828 DEBUG: REQUEST:
{
  "id": 0,
  "jsonrpc": "2.0",
  "method": "initialize",
  "params": {
    "capabilities": {
      "logging": false,
      "prompts": false,
      "resources": true,
      "roots": {
        "listChanged": false
      },
      "tools": true
    },
    "clientInfo": {
      "name": "cursor-vscode",
      "version": "1.0.0"
    },
    "protocolVersion": "2024-11-05"
  }
}
2025/03/25 11:00:13.828 DEBUG: RESPONSE:
{
  "capabilities": {
    "logging": {},
    "prompts": {
      "listChanged": true
    },
    "resources": {
      "listChanged": true,
      "subscribe": true
    },
    "tools": {
      "available": [
        {
          "description": "Execute a database statement that doesn't return results (INSERT, UPDATE, DELETE, etc.)",
          "inputSchema": {
            "properties": {
              "database": {
                "description": "Database ID to use (optional if only one database is configured)",
                "type": "string"
              },
              "params": {
                "description": "Parameters for the statement (for prepared statements)",
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              "statement": {
                "description": "SQL statement to execute",
                "type": "string"
              }
            },
            "required": [
              "statement"
            ],
            "type": "object"
          },
          "name": "dbExecute"
        },
        {
          "description": "Manage database transactions (begin, commit, rollback, execute within transaction)",
          "inputSchema": {
            "properties": {
              "action": {
                "description": "Transaction action: begin, commit, rollback, or execute",
                "enum": [
                  "begin",
                  "commit",
                  "rollback",
                  "execute"
                ],
                "type": "string"
              },
              "database": {
                "description": "Database ID to use (optional if only one database is configured)",
                "type": "string"
              },
              "params": {
                "description": "Parameters for the statement (for prepared statements, used with execute action)",
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              "statement": {
                "description": "SQL statement to execute (required for execute action)",
                "type": "string"
              },
              "transactionId": {
                "description": "Transaction ID (required for commit, rollback, and execute actions)",
                "type": "string"
              }
            },
            "required": [
              "action"
            ],
            "type": "object"
          },
          "name": "dbTransaction"
        },
        {
          "description": "Identify slow queries and optimization opportunities",
          "inputSchema": {
            "properties": {
              "database": {
                "description": "Database ID to use (optional if only one database is configured)",
                "type": "string"
              },
              "query": {
                "description": "SQL query to analyze",
                "type": "string"
              }
            },
            "required": [
              "query"
            ],
            "type": "object"
          },
          "name": "dbPerformanceAnalyzer"
        },
        {
          "description": "Shows information about all connected databases",
          "inputSchema": {
            "properties": {},
            "required": null,
            "type": "object"
          },
          "name": "showConnectedDatabases"
        },
        {
          "description": "Auto-discover database structure and relationships",
          "inputSchema": {
            "properties": {
              "database": {
                "description": "Database name to explore (optional, leave empty for all databases)",
                "type": "string"
              },
              "table": {
                "description": "Table name to explore (optional, leave empty for all tables)",
                "type": "string"
              }
            },
            "required": null,
            "type": "object"
          },
          "name": "dbSchema"
        },
        {
          "description": "Execute a database query that returns results",
          "inputSchema": {
            "properties": {
              "database": {
                "description": "Database ID to query (optional if only one database is configured)",
                "type": "string"
              },
              "params": {
                "description": "Parameters for the query (for prepared statements)",
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              "query": {
                "description": "SQL query to execute",
                "type": "string"
              },
              "timeout": {
                "description": "Query timeout in milliseconds (default: 5000)",
                "type": "integer"
              }
            },
            "required": [
              "query"
            ],
            "type": "object"
          },
          "name": "dbQuery"
        }
      ]
    }
  },
  "protocolVersion": "2024-11-05",
  "serverInfo": {
    "name": "MCP Server",
    "version": "1.0.0"
  }
}
2025/03/25 11:00:13.828 DEBUG: ==== END initialize [ID:0] ====
2025/03/25 11:00:13.828 DEBUG: Sending response: {"id":0,"jsonrpc":"2.0","result":{"capabilities":{"logging":{},"prompts":{"listChanged":true},"resources":{"listChanged":true,"subscribe":true},"tools":{"available":[{"description":"Execute a database statement that doesn't return results (INSERT, UPDATE, DELETE, etc.)","inputSchema":{"properties":{"database":{"description":"Database ID to use (optional if only one database is configured)","type":"string"},"params":{"description":"Parameters for the statement (for prepared statements)","items":{"type":"string"},"type":"array"},"statement":{"description":"SQL statement to execute","type":"string"}},"required":["statement"],"type":"object"},"name":"dbExecute"},{"description":"Manage database transactions (begin, commit, rollback, execute within transaction)","inputSchema":{"properties":{"action":{"description":"Transaction action: begin, commit, rollback, or execute","enum":["begin","commit","rollback","execute"],"type":"string"},"database":{"description":"Database ID to use (optional if only one database is configured)","type":"string"},"params":{"description":"Parameters for the statement (for prepared statements, used with execute action)","items":{"type":"string"},"type":"array"},"statement":{"description":"SQL statement to execute (required for execute action)","type":"string"},"transactionId":{"description":"Transaction ID (required for commit, rollback, and execute actions)","type":"string"}},"required":["action"],"type":"object"},"name":"dbTransaction"},{"description":"Identify slow queries and optimization opportunities","inputSchema":{"properties":{"database":{"description":"Database ID to use (optional if only one database is configured)","type":"string"},"query":{"description":"SQL query to analyze","type":"string"}},"required":["query"],"type":"object"},"name":"dbPerformanceAnalyzer"},{"description":"Shows information about all connected databases","inputSchema":{"properties":{},"required":null,"type":"object"},"name":"showConnectedDatabases"},{"description":"Auto-discover database structure and relationships","inputSchema":{"properties":{"database":{"description":"Database name to explore (optional, leave empty for all databases)","type":"string"},"table":{"description":"Table name to explore (optional, leave empty for all tables)","type":"string"}},"required":null,"type":"object"},"name":"dbSchema"},{"description":"Execute a database query that returns results","inputSchema":{"properties":{"database":{"description":"Database ID to query (optional if only one database is configured)","type":"string"},"params":{"description":"Parameters for the query (for prepared statements)","items":{"type":"string"},"type":"array"},"query":{"description":"SQL query to execute","type":"string"},"timeout":{"description":"Query timeout in milliseconds (default: 5000)","type":"integer"}},"required":["query"],"type":"object"},"name":"dbQuery"}]}},"protocolVersion":"2024-11-05","serverInfo":{"name":"MCP Server","version":"1.0.0"}}}
2025/03/25 11:00:13.828 ERROR: Failed to send response: session not connected
2025/03/25 11:00:14.163 INFO: Sending tools/list_changed notification
2025/03/25 11:00:14.163 DEBUG: Notification payload: {"jsonrpc":"2.0","method":"notifications/tools/list_changed","params":{"tools":[{"description":"Shows information about all connected databases","inputSchema":{"properties":{},"required":null,"type":"object"},"name":"showConnectedDatabases"},{"description":"Auto-discover database structure and relationships","inputSchema":{"properties":{"database":{"description":"Database name to explore (optional, leave empty for all databases)","type":"string"},"table":{"description":"Table name to explore (optional, leave empty for all tables)","type":"string"}},"required":null,"type":"object"},"name":"dbSchema"},{"description":"Execute a database query that returns results","inputSchema":{"properties":{"database":{"description":"Database ID to query (optional if only one database is configured)","type":"string"},"params":{"description":"Parameters for the query (for prepared statements)","items":{"type":"string"},"type":"array"},"query":{"description":"SQL query to execute","type":"string"},"timeout":{"description":"Query timeout in milliseconds (default: 5000)","type":"integer"}},"required":["query"],"type":"object"},"name":"dbQuery"},{"description":"Execute a database statement that doesn't return results (INSERT, UPDATE, DELETE, etc.)","inputSchema":{"properties":{"database":{"description":"Database ID to use (optional if only one database is configured)","type":"string"},"params":{"description":"Parameters for the statement (for prepared statements)","items":{"type":"string"},"type":"array"},"statement":{"description":"SQL statement to execute","type":"string"}},"required":["statement"],"type":"object"},"name":"dbExecute"},{"description":"Manage database transactions (begin, commit, rollback, execute within transaction)","inputSchema":{"properties":{"action":{"description":"Transaction action: begin, commit, rollback, or execute","enum":["begin","commit","rollback","execute"],"type":"string"},"database":{"description":"Database ID to use (optional if only one database is configured)","type":"string"},"params":{"description":"Parameters for the statement (for prepared statements, used with execute action)","items":{"type":"string"},"type":"array"},"statement":{"description":"SQL statement to execute (required for execute action)","type":"string"},"transactionId":{"description":"Transaction ID (required for commit, rollback, and execute actions)","type":"string"}},"required":["action"],"type":"object"},"name":"dbTransaction"},{"description":"Identify slow queries and optimization opportunities","inputSchema":{"properties":{"database":{"description":"Database ID to use (optional if only one database is configured)","type":"string"},"query":{"description":"SQL query to analyze","type":"string"}},"required":["query"],"type":"object"},"name":"dbPerformanceAnalyzer"}]}}
2025/03/25 11:00:14.163 DEBUG: Sending notification: {"jsonrpc":"2.0","method":"notifications/tools/list_changed","params":{"tools":[{"description":"Shows information about all connected databases","inputSchema":{"properties":{},"required":null,"type":"object"},"name":"showConnectedDatabases"},{"description":"Auto-discover database structure and relationships","inputSchema":{"properties":{"database":{"description":"Database name to explore (optional, leave empty for all databases)","type":"string"},"table":{"description":"Table name to explore (optional, leave empty for all tables)","type":"string"}},"required":null,"type":"object"},"name":"dbSchema"},{"description":"Execute a database query that returns results","inputSchema":{"properties":{"database":{"description":"Database ID to query (optional if only one database is configured)","type":"string"},"params":{"description":"Parameters for the query (for prepared statements)","items":{"type":"string"},"type":"array"},"query":{"description":"SQL query to execute","type":"string"},"timeout":{"description":"Query timeout in milliseconds (default: 5000)","type":"integer"}},"required":["query"],"type":"object"},"name":"dbQuery"},{"description":"Execute a database statement that doesn't return results (INSERT, UPDATE, DELETE, etc.)","inputSchema":{"properties":{"database":{"description":"Database ID to use (optional if only one database is configured)","type":"string"},"params":{"description":"Parameters for the statement (for prepared statements)","items":{"type":"string"},"type":"array"},"statement":{"description":"SQL statement to execute","type":"string"}},"required":["statement"],"type":"object"},"name":"dbExecute"},{"description":"Manage database transactions (begin, commit, rollback, execute within transaction)","inputSchema":{"properties":{"action":{"description":"Transaction action: begin, commit, rollback, or execute","enum":["begin","commit","rollback","execute"],"type":"string"},"database":{"description":"Database ID to use (optional if only one database is configured)","type":"string"},"params":{"description":"Parameters for the statement (for prepared statements, used with execute action)","items":{"type":"string"},"type":"array"},"statement":{"description":"SQL statement to execute (required for execute action)","type":"string"},"transactionId":{"description":"Transaction ID (required for commit, rollback, and execute actions)","type":"string"}},"required":["action"],"type":"object"},"name":"dbTransaction"},{"description":"Identify slow queries and optimization opportunities","inputSchema":{"properties":{"database":{"description":"Database ID to use (optional if only one database is configured)","type":"string"},"query":{"description":"SQL query to analyze","type":"string"}},"required":["query"],"type":"object"},"name":"dbPerformanceAnalyzer"}]}}
2025/03/25 11:00:14.163 ERROR: Failed to send tools list changed notification: session not connected
2025/03/25 11:00:14.328 INFO: Sending tools/list_changed notification
2025/03/25 11:00:14.329 DEBUG: Notification payload: {"jsonrpc":"2.0","method":"notifications/tools/list_changed","params":{"tools":[{"description":"Auto-discover database structure and relationships","inputSchema":{"properties":{"database":{"description":"Database name to explore (optional, leave empty for all databases)","type":"string"},"table":{"description":"Table name to explore (optional, leave empty for all tables)","type":"string"}},"required":null,"type":"object"},"name":"dbSchema"},{"description":"Execute a database query that returns results","inputSchema":{"properties":{"database":{"description":"Database ID to query (optional if only one database is configured)","type":"string"},"params":{"description":"Parameters for the query (for prepared statements)","items":{"type":"string"},"type":"array"},"query":{"description":"SQL query to execute","type":"string"},"timeout":{"description":"Query timeout in milliseconds (default: 5000)","type":"integer"}},"required":["query"],"type":"object"},"name":"dbQuery"},{"description":"Execute a database statement that doesn't return results (INSERT, UPDATE, DELETE, etc.)","inputSchema":{"properties":{"database":{"description":"Database ID to use (optional if only one database is configured)","type":"string"},"params":{"description":"Parameters for the statement (for prepared statements)","items":{"type":"string"},"type":"array"},"statement":{"description":"SQL statement to execute","type":"string"}},"required":["statement"],"type":"object"},"name":"dbExecute"},{"description":"Manage database transactions (begin, commit, rollback, execute within transaction)","inputSchema":{"properties":{"action":{"description":"Transaction action: begin, commit, rollback, or execute","enum":["begin","commit","rollback","execute"],"type":"string"},"database":{"description":"Database ID to use (optional if only one database is configured)","type":"string"},"params":{"description":"Parameters for the statement (for prepared statements, used with execute action)","items":{"type":"string"},"type":"array"},"statement":{"description":"SQL statement to execute (required for execute action)","type":"string"},"transactionId":{"description":"Transaction ID (required for commit, rollback, and execute actions)","type":"string"}},"required":["action"],"type":"object"},"name":"dbTransaction"},{"description":"Identify slow queries and optimization opportunities","inputSchema":{"properties":{"database":{"description":"Database ID to use (optional if only one database is configured)","type":"string"},"query":{"description":"SQL query to analyze","type":"string"}},"required":["query"],"type":"object"},"name":"dbPerformanceAnalyzer"},{"description":"Shows information about all connected databases","inputSchema":{"properties":{},"required":null,"type":"object"},"name":"showConnectedDatabases"}]}}
2025/03/25 11:00:14.329 DEBUG: Sending notification: {"jsonrpc":"2.0","method":"notifications/tools/list_changed","params":{"tools":[{"description":"Auto-discover database structure and relationships","inputSchema":{"properties":{"database":{"description":"Database name to explore (optional, leave empty for all databases)","type":"string"},"table":{"description":"Table name to explore (optional, leave empty for all tables)","type":"string"}},"required":null,"type":"object"},"name":"dbSchema"},{"description":"Execute a database query that returns results","inputSchema":{"properties":{"database":{"description":"Database ID to query (optional if only one database is configured)","type":"string"},"params":{"description":"Parameters for the query (for prepared statements)","items":{"type":"string"},"type":"array"},"query":{"description":"SQL query to execute","type":"string"},"timeout":{"description":"Query timeout in milliseconds (default: 5000)","type":"integer"}},"required":["query"],"type":"object"},"name":"dbQuery"},{"description":"Execute a database statement that doesn't return results (INSERT, UPDATE, DELETE, etc.)","inputSchema":{"properties":{"database":{"description":"Database ID to use (optional if only one database is configured)","type":"string"},"params":{"description":"Parameters for the statement (for prepared statements)","items":{"type":"string"},"type":"array"},"statement":{"description":"SQL statement to execute","type":"string"}},"required":["statement"],"type":"object"},"name":"dbExecute"},{"description":"Manage database transactions (begin, commit, rollback, execute within transaction)","inputSchema":{"properties":{"action":{"description":"Transaction action: begin, commit, rollback, or execute","enum":["begin","commit","rollback","execute"],"type":"string"},"database":{"description":"Database ID to use (optional if only one database is configured)","type":"string"},"params":{"description":"Parameters for the statement (for prepared statements, used with execute action)","items":{"type":"string"},"type":"array"},"statement":{"description":"SQL statement to execute (required for execute action)","type":"string"},"transactionId":{"description":"Transaction ID (required for commit, rollback, and execute actions)","type":"string"}},"required":["action"],"type":"object"},"name":"dbTransaction"},{"description":"Identify slow queries and optimization opportunities","inputSchema":{"properties":{"database":{"description":"Database ID to use (optional if only one database is configured)","type":"string"},"query":{"description":"SQL query to analyze","type":"string"}},"required":["query"],"type":"object"},"name":"dbPerformanceAnalyzer"},{"description":"Shows information about all connected databases","inputSchema":{"properties":{},"required":null,"type":"object"},"name":"showConnectedDatabases"}]}}
2025/03/25 11:00:14.329 ERROR: Failed to send tools list changed notification: session not connected
2025/03/25 11:01:13.641 INFO: Received shutdown signal, stopping server...
2025/03/25 11:01:13.807 INFO: Received shutdown signal, stopping server...
2025/03/25 11:01:13.807 DEBUG: Received request: {"jsonrpc":"2.0","method":"notifications/cancelled","params":{"reason":"Error: MCP error -32001: Request timed out","requestId":0}}
